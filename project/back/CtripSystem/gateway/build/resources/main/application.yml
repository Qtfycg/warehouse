
server:
  port: 8080
spring:
  cloud:
    gateway:
      server:
        webflux:
          discovery:
            locator:
              enabled: true
              lower-case-service-id: true
          routes:
            - id: user
              uri: lb://user
              predicates:
                - Path=/api/user/**
              filters:
                - name: StripPrefix
                  args:
                    parts: 2
            - id: product
              uri: lb://product
              predicates:
                - Path=/api/product/**
              filters:
                - name: StripPrefix
                  args:
                    parts: 2
            - id: admin
              uri: lb://admin
              predicates:
                - Path=/api/admin/**
              filters:
                - name: StripPrefix
                  args:
                    parts: 2
            - id: file
              uri: lb://file
              predicates:
                - Path=/api/file/**
              filters:
                - name: StripPrefix
                  args:
                    parts: 2
            - id: order
              uri: lb://order
              predicates:
                - Path=/api/order/**
              filters:
                - name: StripPrefix
                  args:
                    parts: 2

security:
  ignore:
    urls:
      - /api/user/login
      - /api/user/register
      - /api/user/captcha
      - /api/admin/login